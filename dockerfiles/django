FROM ubuntu:14.04
MAINTAINER martin.zellner@gmail.com

# Install Package Dependencies
RUN apt-get update && apt-get install -y --force-yes \
    gettext \
    python3-pip \
    libmysqlclient-dev \
    python3-dev \
    gcc \
    gcc-multilib \
    rabbitmq-server \
    libjpeg-dev \
    libffi-dev \
    libssl-dev \
    python3-cairo

# Install supervisor (needed for production)
RUN apt-get update && apt-get install -y --force-yes \
    supervisor

RUN groupadd --system webapps && useradd  -ms /bin/bash --system --gid webapps --shell /bin/bash --home /webapps django

USER django
ADD requirements.txt /webapps/tq_website/requirements.txt
WORKDIR /webapps

USER  root
RUN pip3 install -r tq_website/requirements.txt




