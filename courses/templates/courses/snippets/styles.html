{% load i18n %}

{% for s in type.styles.all %}
    <!-- Button trigger modal -->
    <p>
        <a href="#" data-toggle="modal" data-target="#modal_style-{{ s.id }}">{{ s.name }}</a>
        {% if s.url_video %}
            (<a href="{{ s.url_video }}" target=”_blank”><span class="fa fa-youtube-play fa-lg"></span>{% trans "Video" %}</a>)
        {% endif %}
        {% if s.url_playlist %}
            (<a href="{{ s.url_playlist }}" target=”_blank”><span class="fa fa-music fa-lg"></span>{% trans "Playlist" %}</a>)
        {% endif %}
        {% if not forloop.last %},{% endif %}
    </p>
{% endfor %}

{% for s in type.styles.all %}
    <!-- Modal -->
    <div class="modal fade" id="modal_style-{{ s.id }}" tabindex="-1" role="dialog" aria-labelledby="Style Info"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h3 class="modal-title" id="modal_label_style-{{ s.id }}">{{ s.name }}</h3>
                </div>
                <div class="modal-body">
                    {% if s.description %}
                        <p>{{ s.description|safe }}</p>
                    {% endif %}
                    {% if s.url_info %}
                        <p><a href="{{ s.url_info }}" target=”_blank”>{% trans "More Info" %}</a></p>
                    {% endif %}
                    {% if s.url_video %}
                        <p><a href="{{ s.url_video }}" target=”_blank”><span class="fa fa-youtube-play fa-lg"></span>{% trans "Video" %}</a></p>
                    {% endif %}
                    {% if s.url_playlist %}
                        <p><a href="{{ s.url_playlist }}" target=”_blank”><span class="fa fa-music fa-lg"></span>{% trans "Playlist" %}</a></p>
                    {% endif %}
                    <h4>{% trans "Playlist" %}</h4>

                    <p>{% include "courses/snippets/song_list.html" with songs=s.songs.all only %}</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                </div>
            </div>
        </div>
    </div>

{% endfor %}